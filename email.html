<!DOCTYPE html>
<html lang="en">

<head>
    <link rel="icon" href="logo_2.png" style="max-width: 100%; height: auto;">
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#000000" />
    <meta name="description" content="Contact Me!" />
    <title>Shoot a Message!</title>
    <link rel ="stylesheet" href="./style.css">
    <script src = "cdnjs.cloudflare.com_ajax_libs_three.js_r134_three.min.js"></script>
    <script src = "cdn.jsdelivr.net_npm_vanta@latest_dist_vanta.birds.min.js"></script>
</head>

<body>
<header>
    <div class="logo">
        <img src="logo.png" alt="logo">
    </div>
    <nav>
        <ul>
            <li><a class="home-link" href="index.html">Home</a></li>
            <li><a class="about-link" href="aboutme.html">About Me</a></li>
            <li><a class="contact-link" href="contact.html">Contact</a></li>
            <li><a class="email-link" href="email.html">Email Me</a></li>
        </ul>
    </nav>
</header>
<div id="vanta-bg"></div>

<div class="container">
    <div class="form-container">
        <div class = "typewriter custom-text">
            <h2>Email Me!</h2>
        </div>
        <form id="contact-form">
            <label for="email">Email:</label>
            <input type="email" id="email" name="email" required><br>

            <label for="subject">Subject:</label>
            <input type="text" id="subject" name="subject" required><br>

            <label for="message">Message (Please Include Your Name):</label><br>
            <textarea id="message" name="message" rows="4" cols="30" required></textarea><br>

            <button id="submitBtn" type="submit">Send</button>
        </form>
    </div>
</div>

<div id="root"></div>

<script>
    // Initialize Vanta.BIRDS background animation
    VANTA.BIRDS({
        el: "#vanta-bg",
        mouseControls: true,
        touchControls: true,
        gyroControls: false,
        minHeight: 200.00,
        minWidth: 200.00,
        scale: 1.00,
        scaleMobile: 1.00,
        backgroundColor: 0x0,
        color1: 0xffffff,
        wingSpan: 20.00,
        speedLimit: 4.00,
        separation: 100.00,
        alignment: 1.00,
        cohesion: 100.00,
        quantity: 4.00
    });
</script>

<script src="https://cdn.emailjs.com/dist/email.min.js"></script>
<script>
    emailjs.init('yZVvJf75mMKn1rwV0');
    const form = document.querySelector("#contact-form");
    function sendEmail() {
        console.log('Form element:', form);
        if (form) {
            emailjs.sendForm("service_jj1bdmt", "template_uls72su", form, 'yZVvJf75mMKn1rwV0')
                .then (
                    function(response) {
                        console.log('Email sent successfully: ', response);
                        window.location.href = "emailsuccess.html";
                    },
                    function(error) {
                        console.error('Email not sent. Error: ', error);
                        window.location.href = "emailnotsuccess.html";
                    }
                );
        } else {
            console.error('Form element not found');
        }
    }

    // Attach sendEmail function to the button click event
    const submitBtn = document.getElementById("submitBtn");
    if (submitBtn) {
        submitBtn.addEventListener("click", function(event) {
            event.preventDefault(); // Prevent default form submission
            console.log("Button was clicked");
            sendEmail(); // Call sendEmail function
        });
    }
</script>

</body>

</html>